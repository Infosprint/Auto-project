{"ast":null,"code":"var _jsxFileName = \"C:\\\\Autontrade\\\\autontrade\\\\src\\\\components\\\\Recruitment\\\\CandidateTable.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useGlobalContext } from \"../../context/context\";\nimport CandidateCard from \"./CandidateCard\";\nimport EditCandidateRow from \"./EditCandidateRow\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CandidateTable = _ref => {\n  _s();\n  let {\n    candidateData\n  } = _ref;\n  const {\n    loading,\n    fetchCandidateData,\n    url,\n    user\n  } = useGlobalContext();\n  const [editFormData, setEditFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phoneNumber: \"\",\n    createdAt: \"\",\n    resume: \"\",\n    status: \"\"\n  });\n  const [editContactId, setEditContactId] = useState(null);\n  const handleEditFormSubmit = async event => {\n    event.preventDefault();\n    const editedContact = {\n      id: editContactId,\n      name: editFormData.name,\n      email: editFormData.email,\n      phoneNumber: editFormData.phoneNumber,\n      createdAt: editFormData.createdAt,\n      resume: editFormData.resume,\n      status: editFormData.status\n    };\n    try {\n      console.log(editFormData);\n      const res = await axios.put(`${url}/candidate/${editContactId}`, editedContact);\n      console.log(res);\n      toast.success(\"Updated\");\n      fetchCandidateData();\n    } catch (error) {\n      toast.error(\"Something went wrong\");\n      console.log(error);\n    }\n    setEditContactId(null);\n  };\n  const handleEditClick = (event, contact) => {\n    event.preventDefault();\n    setEditContactId(contact._id);\n    const formValues = {\n      name: contact.name,\n      email: contact.email,\n      phoneNumber: contact.phoneNumber,\n      createdAt: contact.createdAt,\n      resume: contact.resume,\n      status: contact.status\n    };\n    setEditFormData(formValues);\n  };\n  console.log(editContactId);\n  const handleDeleteClick = async contactId => {\n    try {\n      const res = await axios.delete(`${url}/candidate/${contactId}`);\n      toast.success(res.data.message);\n    } catch (error) {\n      console.log(error);\n      toast.error(error.response.data);\n    }\n    fetchCandidateData();\n  };\n  const handleEditFormChange = event => {\n    event.preventDefault();\n    const fieldName = event.target.getAttribute(\"name\");\n    const fieldValue = event.target.value;\n    const newFormData = {\n      ...editFormData\n    };\n    newFormData[fieldName] = fieldValue;\n    console.log(newFormData);\n    setEditFormData(newFormData);\n  };\n  const handleCancelClick = () => {\n    setEditContactId(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overflow-x-auto w-auto max-w-[1000px] mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-zebra w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Updated at\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"resume\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Dept\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: candidateData.map(contact => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: editContactId === contact._id ? /*#__PURE__*/_jsxDEV(EditCandidateRow, {\n            editFormData: editFormData,\n            handleEditFormChange: handleEditFormChange,\n            handleCancelClick: handleCancelClick,\n            handleEditFormSubmit: handleEditFormSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(CandidateCard, {\n            contact: contact,\n            handleEditClick: handleEditClick,\n            handleDeleteClick: handleDeleteClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this)\n        }, void 0, false))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(CandidateTable, \"OC0WEMpSnBQK6YYIVoaJd7WOse0=\", false, function () {\n  return [useGlobalContext];\n});\n_c = CandidateTable;\nexport default CandidateTable;\nvar _c;\n$RefreshReg$(_c, \"CandidateTable\");","map":{"version":3,"names":["React","useState","useGlobalContext","CandidateCard","EditCandidateRow","axios","toast","CandidateTable","candidateData","loading","fetchCandidateData","url","user","editFormData","setEditFormData","name","email","phoneNumber","createdAt","resume","status","editContactId","setEditContactId","handleEditFormSubmit","event","preventDefault","editedContact","id","console","log","res","put","success","error","handleEditClick","contact","_id","formValues","handleDeleteClick","contactId","delete","data","message","response","handleEditFormChange","fieldName","target","getAttribute","fieldValue","value","newFormData","handleCancelClick","map"],"sources":["C:/Autontrade/autontrade/src/components/Recruitment/CandidateTable.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useGlobalContext } from \"../../context/context\";\r\nimport CandidateCard from \"./CandidateCard\";\r\nimport EditCandidateRow from \"./EditCandidateRow\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nconst CandidateTable = ({ candidateData }) => {\r\n  const { loading, fetchCandidateData, url, user } = useGlobalContext();\r\n  const [editFormData, setEditFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phoneNumber: \"\",\r\n    createdAt: \"\",\r\n    resume: \"\",\r\n    status: \"\",\r\n  });\r\n\r\n  const [editContactId, setEditContactId] = useState(null);\r\n  const handleEditFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const editedContact = {\r\n      id: editContactId,\r\n      name: editFormData.name,\r\n      email: editFormData.email,\r\n      phoneNumber: editFormData.phoneNumber,\r\n      createdAt: editFormData.createdAt,\r\n      resume: editFormData.resume,\r\n      status: editFormData.status,\r\n    };\r\n    try {\r\n      console.log(editFormData);\r\n      const res = await axios.put(\r\n        `${url}/candidate/${editContactId}`,\r\n        editedContact\r\n      );\r\n      console.log(res);\r\n      toast.success(\"Updated\");\r\n      fetchCandidateData();\r\n    } catch (error) {\r\n      toast.error(\"Something went wrong\");\r\n      console.log(error);\r\n    }\r\n    setEditContactId(null);\r\n  };\r\n\r\n  const handleEditClick = (event, contact) => {\r\n    event.preventDefault();\r\n    setEditContactId(contact._id);\r\n\r\n    const formValues = {\r\n      name: contact.name,\r\n      email: contact.email,\r\n      phoneNumber: contact.phoneNumber,\r\n      createdAt: contact.createdAt,\r\n      resume: contact.resume,\r\n      status: contact.status,\r\n    };\r\n\r\n    setEditFormData(formValues);\r\n  };\r\n  console.log(editContactId);\r\n  const handleDeleteClick = async (contactId) => {\r\n    try {\r\n      const res = await axios.delete(`${url}/candidate/${contactId}`);\r\n      toast.success(res.data.message);\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(error.response.data);\r\n    }\r\n    fetchCandidateData();\r\n  };\r\n\r\n  const handleEditFormChange = (event) => {\r\n    event.preventDefault();\r\n\r\n    const fieldName = event.target.getAttribute(\"name\");\r\n    const fieldValue = event.target.value;\r\n\r\n    const newFormData = { ...editFormData };\r\n    newFormData[fieldName] = fieldValue;\r\n    console.log(newFormData);\r\n    setEditFormData(newFormData);\r\n  };\r\n\r\n  const handleCancelClick = () => {\r\n    setEditContactId(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto w-auto max-w-[1000px] mt-5\">\r\n      <table className=\"table table-zebra w-full\">\r\n        <thead>\r\n          <tr>\r\n            <th>name</th>\r\n            <th>email</th>\r\n            <th>phone number</th>\r\n            <th>Updated at</th>\r\n            <th>resume</th>\r\n            <th>status</th>\r\n            <th>Dept</th>\r\n            <th>actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {candidateData.map((contact) => (\r\n            <>\r\n              {editContactId === contact._id ? (\r\n                <EditCandidateRow\r\n                  editFormData={editFormData}\r\n                  handleEditFormChange={handleEditFormChange}\r\n                  handleCancelClick={handleCancelClick}\r\n                  handleEditFormSubmit={handleEditFormSubmit}\r\n                />\r\n              ) : (\r\n                <CandidateCard\r\n                  contact={contact}\r\n                  handleEditClick={handleEditClick}\r\n                  handleDeleteClick={handleDeleteClick}\r\n                />\r\n              )}\r\n            </>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CandidateTable;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}